---
description: 常用于访问受限的网络、不受信任的网络 / 绕过防火墙和访问控制策略，以实现对目标系统内部资源的访问
---

# ✔️ 隧道传输 - Tunneling

## 隧道技术

### 流量封装

* 是隧道传输的基础，通过封装技术可以在一个协议的基础上传输另一个协议的数据
* 在不同协议之间进行转换和封装，使数据能够通过不同的网络环境传输
* 是绕过端口屏蔽的通信方式：用目标系统防火墙允许通过的数据包类型/端口，去封装要传输的数据，目的是穿过防火墙与目标进行通信

### 加密传输

* 网络中传输的数据被加密
* 常用加密算法：
  * AES：对称加密
  * RSA：非对称加密
  * SSL/TLS：保护传输数据的安全性

### 路由

#### 功能

* 隧道内寻址
* 流量转发
* 负载均衡

#### 技术

* 基于静态路由：根据配置的路由表
* 基于动态路由：根据相关协议（OSPF / BGP）
* 基于策略：根据规定的策略

### 隧道协议

* IPsec
* SSH
* SSL/TLS

### 判断内网是否联通外网

* 常见的流量端口：80、8080、8088、8089、8888、443、53、110、123等

#### 常见协议

* ICMP协议

```bash
ping 58.222.xxx.xx
ping www.example.com
```

* TCP协议

```bash
nc -zv 192.168.xxx.xx 8080
nc -zv www.example.com 53
```

* HTTP协议

```bash
# 虽然curl是一个上传下载的工具，但是用在测试端口是否通畅也是可以的。
# 若端口没有任何返回提示信息，则表明该端口不通畅。
curl www.example.com:80
```

* DNS协议

```bash
# Windows自带（此处IP地址为DNS服务器的IP）
nslookup www.example.com 192.168.xxx.xx
# Linux自带（此处IP地址为DNS服务器的IP）
dig @192.168.xxx.xx www.example.com
```

## 网络层隧道

### IPv6隧道





### ICMP隧道





## 传输层隧道

### lcx端口转发







### NetCat





### PowerCat





## 应用层隧道

### SSH隧道





### HTTP/HTTPS隧道







### DNS隧道





## SOCKS代理

### 常用工具





### 应用



